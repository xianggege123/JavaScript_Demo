<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>发微博效果</title>
	<style>
		*{margin: 0;padding: 0;}
		#ul1{width: 400px;height: 400px;overflow: hidden;
			border: 1px solid #999;margin: 10px auto;}
		#ul1 li{
			border-bottom: 1px dashed #777;
			padding: 4px;
			overflow: hidden;
			list-style: none;
			filter: alpha(opacity:0);
			opacity: 0;
		}
	</style>
	<script src='move2.js'></script>
	<script>
	window.onload = function(){
		var oBtn = document.getElementById('btn1');
		var oUl = document.getElementById('ul1');
		var oTxt = document.getElementById('txt1');

		oBtn.onclick = function(){
			var oLi = document.createElement('li');
			oLi.innerHTML = oTxt.value;
			oTxt.value='';

			if(oUl.children.length>0){
				oUl.insertBefore(oLi,oUl.children[0]);
			}
			else{
				oUl.appendChild(oLi);
			}

			// 运动
			var iHeight = oLi.offsetHeight;
			oLi.style.height = '0';
			startMove(oLi,{height:iHeight},function(){
				startMove(oLi,{opacity:100});
			});
		}
	}
	</script>
</head>
<body>
<textarea id="txt1" cols="40" rows="10"></textarea>
<input type="button" id="btn1" value="发布">
	<ul id="ul1">
	</ul>
</body>
</html>