<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>匀速运动的停止</title>
	<style>
		#div1{
			width: 100px;
			height: 100px;
			background-color: red;
			position: absolute;
			top: 100px;
			left: 600px;
		}
		#div2{
			width: 1px;
			height: 300px;
			background-color: #000;
			position: absolute;
			top: 50px;
			left: 100px;
		}
		#div3{
			width: 1px;
			height: 300px;
			background-color: #000;
			position: absolute;
			top: 50px;
			left: 300px;
		}
	</style>
	<script>
		var timer = null;
		function startMove(iTarget){
			var oDiv = document.getElementById('div1');
			clearInterval(timer);
			timer = setInterval(function(){
				var speed = 0;
				if(oDiv.offsetLeft<iTarget){
					speed = 7
				}
				else{
					speed = -7
				}
				if(Math.abs(iTarget-oDiv.offsetLeft)<=7){//绝对值，当绝对值小于7，先停下来
					clearInterval(timer);
					oDiv.style.left = iTarget+'px';
				}
				else{
					oDiv.style.left = oDiv.offsetLeft+speed+'px';
				}
			},30)
		}
		/*匀速运动的停止：
		1.首先让它停下来，通过Math.abs()判断然后清除定时器
		2.然后回到对应的地方，oDiv.style.left = iTarget+'px';
		*/
	</script>
</head>
<body>
	
</body>
<input type="button" value="移动到100" onclick="startMove(100)">
<input type="button" value="移动到300" onclick="startMove(300)">
<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>
</html>